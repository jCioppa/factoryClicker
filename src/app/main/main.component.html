<style>
    .progress_bar { 
        width: 100%;
        height: 20px;
    }
    .resource-container { 
        margin: 10px;
    }
</style>

<div class = "factory-root">
    
    <p>Clicks: {{this.clickCount}}</p>
    <p>Level: {{this.currentLevel}}</p>
    <p>Increment: {{this.increment}}</p>

    <div class = "progress_bar">
        <mat-progress-bar mode="determinate" [value]="100 * (clickCount / expToNextLevel)"></mat-progress-bar>
    </div>

    <mat-tab-group>
        <mat-tab label="Resources">
            <div>

                <ResourceContainer 
                    (clickSignal) = "test($event)"
                    [resourceType]="resource.Iron"   
                    [resourceSource]="this.resources[resource.Iron]"
                    displayName="Iron"
                ></ResourceContainer>
                
            
                <div class = "resource-container">
                    <button (click) = "onClickResource(resource.Iron)"> Iron</button>
                    <span> {{this.resources[resource.Iron].count}} </span>
                </div>
               
                <div class = "resource-container">
                    <button (click) = "onClickResource(resource.Copper)"> Copper</button>
                    <span> {{this.resources[resource.Copper].count}} </span>
            
                </div>
               
                <div class = "resource-container">
                    <button (click) = "onClickResource(resource.Coal)"> Coal</button>
                    <span> {{this.resources[resource.Coal].count}} </span>
                </div>
        
            </div>
        
            <div>      
                <div class = "resource-container">
                    <button (click) = "onClickResource(resource.IronGear)">Iron Gear</button>
                    <span> {{this.resources[resource.IronGear].count}} </span>
                </div>
                
                <div class = "resource-container">
                    <button (click) = "onClickResource(resource.CopperWire)">Copper Wire</button>
                    <span> {{this.resources[resource.CopperWire].count}} </span>
                </div>
            </div>    
        </mat-tab>
        <mat-tab label="Miners">  </mat-tab>
        <mat-tab label="Assemblers"> 
            <div>
                <select [(ngModel)]="this.currentOption">
                    <option *ngFor="let recipeOption of recipeOptions" [value]="recipeOption.value">{{recipeOption.name}}</option>
                </select>
                <app-assembler [recipe]="this.currentOption" [resourceTransferer] = "this.resourceTransferer"></app-assembler>
            </div>
             
        </mat-tab>
        <mat-tab label="Smelters"> </mat-tab>
        <mat-tab label="Science">  </mat-tab>


    </mat-tab-group>


</div>